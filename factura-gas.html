<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Factura de Gas ‚Äì Enviar | TuReclamoExpr√©s</title>

  <meta name="description" content="Env√≠anos tu factura de gas para revisar cobros indebidos. Respuesta en 24‚Äì48 h.">
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://tureclamoexpres.com/factura-gas.html">
  <link rel="icon" href="/favicon.ico">

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DPPJ4520K7"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-DPPJ4520K7');
  </script>

  <style>
    :root{
      --bg:#f6f9ff; --card:#ffffff; --text:#072146; --muted:#5f6368;
      --accent:#003a8c; --ok:#22c55e; --border:#e6ecf5; --shadow:0 8px 24px rgba(7,33,70,.08);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:#f6f9ff;color:var(--text)}
    header,main,footer{max-width:960px;margin:0 auto;padding:20px}
    a{color:var(--accent);text-decoration:none}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:18px}
    h1{margin:.25rem 0 0.5rem}
    p.help{color:var(--muted)}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;font-weight:800;text-decoration:none}
    .btn-primary{background:var(--accent);color:#fff;border:1px solid #002a66}
    .btn-outline{border:1px solid var(--accent);color:var(--accent);background:#fff}
    form input, form textarea, form select{
      width:100%;margin:8px 0;padding:12px 14px;border-radius:10px;border:1px solid var(--border);font-size:1rem;background:#fff;color:var(--text)
    }
    form textarea{min-height:140px;resize:vertical}
    #ok{color:#16a34a;display:none}
    #err{color:#b91c1c;display:none}
  </style>
</head>
<body>
  <header>
    <a href="/" class="btn btn-outline">‚Üê Volver</a>
  </header>

  <main>
    <div class="card">
      <h1>Enviar factura de <strong>Gas</strong></h1>
      <p class="help">Revisi√≥n GRATIS en 24‚Äì48 h. Si procede, te preparamos la reclamaci√≥n o la gestionamos por ti.</p>

      <!-- FORMULARIO GAS (Formspree) -->
      <form id="gasForm" action="https://formspree.io/f/mzzvnwll" method="POST" novalidate>
        <input type="hidden" name="_subject" value="Nuevo env√≠o ‚Äì GAS ‚Äì TuReclamoExpr√©s">
        <input type="hidden" name="tipo" value="Gas">

        <label>Nombre completo</label>
        <input type="text" name="nombre" placeholder="Nombre y apellidos" required autocomplete="name">

        <label>Correo electr√≥nico</label>
        <input type="email" name="email" placeholder="tu@email.com" required autocomplete="email">

        <label>Compa√±√≠a y mes de la factura</label>
        <input type="text" name="compania_mes" placeholder="Ej: Naturgy, julio 2025" required>

        <label>Mensaje</label>
        <textarea name="mensaje" placeholder="Cu√©ntanos el problema detectado (subidas, ajustes, estimaciones‚Ä¶)" required></textarea>

        <p class="help">üì© Si prefieres adjuntar la factura, env√≠ala a <a href="mailto:info@tureclamoexpres.com">info@tureclamoexpres.com</a>.</p>

        <label><input id="rgpd" type="checkbox" required> Acepto la <a href="/#confianza">Pol√≠tica de Privacidad</a></label>

        <button type="submit" class="btn btn-primary">Enviar</button>
        <p id="ok">‚úÖ Enviado correctamente</p>
        <p id="err">‚ùå No se pudo enviar. Int√©ntalo m√°s tarde o usa WhatsApp.</p>
      </form>
    </div>

    <div style="text-align:center;margin-top:12px;">
      <a class="btn btn-outline" href="https://wa.me/34953818494?text=Hola,%20quiero%20enviar%20mi%20factura%20de%20gas" target="_blank" rel="noopener">Enviar por WhatsApp</a>
    </div>
  </main>

  <footer style="text-align:center;color:#5f6368;padding:24px;">
    ¬© <span id="year"></span> TuReclamoExpr√©s
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const form = document.getElementById('gasForm');
    const ok = document.getElementById('ok');
    const err = document.getElementById('err');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      ok.style.display='none';
      err.style.display='none';

      if (!document.getElementById('rgpd').checked) {
        err.textContent = '‚ùå Debes aceptar la Pol√≠tica de Privacidad para continuar.';
        err.style.display = 'block';
        return;
      }

      const fd = new FormData(form);

      try {
        const r = await fetch(form.action, {
          method: 'POST',
          body: fd,
          headers: { 'Accept': 'application/json' }
        });

        // Si Formspree responde OK ‚Üí mostramos OK y REDIRIGIMOS a /gracias.html
        if (r.ok) {
          ok.style.display = 'block';
          form.reset();
          // Forzamos la conversi√≥n por URL gracias.html aunque Formspree free no haga _redirect
          window.location.href = '/gracias.html';
        } else {
          // Intentamos leer el error de Formspree
          const isJson = r.headers.get('content-type')?.includes('application/json');
          const payload = isJson ? await r.json() : null;
          err.textContent = (payload && payload.errors && payload.errors[0]?.message)
            ? '‚ùå ' + payload.errors[0].message
            : '‚ùå Error al enviar. Prueba de nuevo o usa WhatsApp.';
          err.style.display = 'block';
        }
      } catch (e2) {
        err.textContent = '‚ùå Error de conexi√≥n. Int√©ntalo de nuevo o usa WhatsApp.';
        err.style.display = 'block';
      }
    });
  </script>
</body>
</html>
